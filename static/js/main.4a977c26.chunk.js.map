{"version":3,"sources":["Game/Game.ts","Posenet/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["canvas","ctx","ballRadius","x","y","dx","dy","paddleHeight","paddleWidth","paddleX","rightPressed","leftPressed","brickRowCount","brickColumnCount","brickWidth","brickHeight","brickPadding","brickOffsetLeft","brickOffsetTop","score","lives","bricks","video","id","modal","hitAudio","backgroundAudio","pause","console","log","cancelAnimationFrame","init","callback","document","getElementById","Audio","process","getContext","width","height","c","r","status","drawBall","beginPath","arc","Math","PI","fillStyle","fill","closePath","drawPaddle","rect","drawBricks","brickX","brickY","drawImage","src","img","Image","imageFromPath","drawScore","font","fillText","drawLives","backImage","drawInit","clearRect","draw","b","play","collisionDetection","updatePose","then","pose","keypoints","position","requestAnimationFrame","undefined","Posenet","setPaused","useState","isSucceedModalVisible","setIsSucceedModalVisible","isFailModalVisible","setFailModalVisible","show","succeed","handleOk","useEffect","streaming","a","load","net","setAttribute","navigator","mediaDevices","getUserMedia","facingMode","audio","stream","srcObject","catch","err","alert","addEventListener","ev","estimateSinglePose","flipHorizontal","window","paused","setpaused","className","alt","style","transform","onClick","autoplay","visible","onCancel","onOk","footer","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4a977c26.chunk.js","sourcesContent":["import { Pose } from \"@tensorflow-models/posenet\";\r\nimport { updatePose } from \"../Posenet\";\r\nlet canvas: HTMLCanvasElement;\r\nlet ctx: CanvasRenderingContext2D;\r\nlet ballRadius: number;\r\nlet x: number;\r\nlet y: number;\r\nlet dx: number;\r\nlet dy: number;\r\nlet paddleHeight: number;\r\nlet paddleWidth: number;\r\nlet paddleX: number;\r\nlet rightPressed: boolean;\r\nlet leftPressed: boolean;\r\nlet brickRowCount: number;\r\nlet brickColumnCount: number;\r\nlet brickWidth: number;\r\nlet brickHeight: number;\r\nlet brickPadding: number;\r\nlet brickOffsetLeft: number;\r\nlet brickOffsetTop: number;\r\nlet score: number;\r\nlet lives: number;\r\nlet bricks: any[];\r\nlet video: HTMLVideoElement;\r\nlet id: number;\r\nlet interval = 33;\r\nlet modal: (succeed: boolean) => void;\r\nexport let hitAudio: HTMLAudioElement | null;\r\nexport let backgroundAudio: HTMLAudioElement | null;\r\nexport const pause = () => {\r\n  if (backgroundAudio) {\r\n    backgroundAudio.pause();\r\n  }\r\n  console.log(id);\r\n  cancelAnimationFrame(id);\r\n};\r\n\r\nexport const init = (callback: (succeed: boolean) => void) => {\r\n  modal = callback;\r\n  canvas = document.getElementById(\"myCanvas\") as HTMLCanvasElement;\r\n  video = document.getElementById(\"video\") as HTMLVideoElement;\r\n  if (!backgroundAudio) {\r\n    backgroundAudio = new Audio(process.env.PUBLIC_URL + '/Assets/BGM.mp3');\r\n  }\r\n  if (!hitAudio) {\r\n    hitAudio = new Audio(process.env.PUBLIC_URL + '/Assets/hit.wav');\r\n  }\r\n  ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n  ballRadius = 10;\r\n  x = canvas.width / 2;\r\n  y = canvas.height - 30;\r\n  dx = 2;\r\n  dy = -2;\r\n  paddleHeight = 10;\r\n  paddleWidth = 75;\r\n  paddleX = (canvas.width - paddleWidth) / 2;\r\n  rightPressed = false;\r\n  leftPressed = false;\r\n  brickRowCount = 5;\r\n  brickColumnCount = 3;\r\n  brickWidth = 75;\r\n  brickHeight = 20;\r\n  brickPadding = 10;\r\n  brickOffsetTop = 30;\r\n  brickOffsetLeft = 30;\r\n  score = 0;\r\n  lives = 3;\r\n  bricks = [];\r\n  for (var c = 0; c < brickColumnCount; c++) {\r\n    bricks[c] = [];\r\n    for (var r = 0; r < brickRowCount; r++) {\r\n      bricks[c][r] = { x: 0, y: 0, status: 1 };\r\n    }\r\n  }\r\n};\r\nfunction collisionDetection() {\r\n  for (var c = 0; c < brickColumnCount; c++) {\r\n    for (var r = 0; r < brickRowCount; r++) {\r\n      var b = bricks[c][r];\r\n      if (b.status == 1) {\r\n        if (\r\n          x > b.x &&\r\n          x < b.x + brickWidth &&\r\n          y > b.y &&\r\n          y < b.y + brickHeight\r\n        ) {\r\n          dy = -dy;\r\n          b.status = 0;\r\n          hitAudio?.play();\r\n          score++;\r\n          if (score == brickRowCount * brickColumnCount) {\r\n            modal(true);\r\n            // alert(\"YOU WIN, CONGRATS!\");\r\n            // document.location.reload();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawBall() {\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, ballRadius, 0, Math.PI * 2);\r\n  ctx.fillStyle = \"#0095DD\";\r\n  ctx.fill();\r\n  ctx.closePath();\r\n}\r\nfunction drawPaddle() {\r\n  ctx.beginPath();\r\n  ctx.rect(paddleX, canvas.height - paddleHeight, paddleWidth, paddleHeight);\r\n  ctx.fillStyle = \"#0095DD\";\r\n  ctx.fill();\r\n  ctx.closePath();\r\n}\r\nfunction drawBricks() {\r\n  for (var c = 0; c < brickColumnCount; c++) {\r\n    for (var r = 0; r < brickRowCount; r++) {\r\n      if (bricks[c][r].status == 1) {\r\n        var brickX = r * (brickWidth + brickPadding) + brickOffsetLeft;\r\n        var brickY = c * (brickHeight + brickPadding) + brickOffsetTop;\r\n        bricks[c][r].x = brickX;\r\n        bricks[c][r].y = brickY;\r\n        /*ctx.beginPath();\r\n        ctx.rect(brickX, brickY, brickWidth, brickHeight);\r\n        var img = new Image();\r\n        img.src = process.env.PUBLIC_URL + '/Assets/brick1.png';\r\n        img.onload = function () {\r\n          var ptrn = ctx.createPattern(img, 'repeat') as CanvasPattern;\r\n        }\r\n        ctx.closePath();*/\r\n        const imageFromPath = function (src: string) {\r\n          let img = new Image();\r\n          img.src = src;\r\n          return img;\r\n        }\r\n        \r\n        ctx.drawImage(imageFromPath(process.env.PUBLIC_URL + '/Assets/brick1.png'), brickX, brickY, brickWidth, brickHeight);\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction drawScore() {\r\n  ctx.font = \"16px Arial\";\r\n  ctx.fillStyle = \"#0095DD\";\r\n  ctx.fillText(\"Score: \" + score, 8, 20);\r\n}\r\nfunction drawLives() {\r\n  ctx.font = \"16px Arial\";\r\n  ctx.fillStyle = \"#0095DD\";\r\n  ctx.fillText(\"Lives: \" + lives, canvas.width - 65, 20);\r\n}\r\nlet backImage = new Image();\r\nbackImage.src = process.env.PUBLIC_URL + '/Assets/background.jpg';\r\nexport function drawInit() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  ctx.drawImage(backImage, 0, 0);\r\n  drawBricks();\r\n  drawBall();\r\n  drawPaddle();\r\n  drawScore();\r\n  drawLives();\r\n}\r\nexport function draw() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  ctx.drawImage(backImage, 0, 0);\r\n  drawBricks();\r\n  drawBall();\r\n  drawPaddle();\r\n  drawScore();\r\n  drawLives();\r\n  collisionDetection();\r\n\r\n  if (x + dx > canvas.width - ballRadius || x + dx < ballRadius) {\r\n    dx = -dx;\r\n  }\r\n  if (y + dy < ballRadius) {\r\n    dy = -dy;\r\n  } else if (y + dy > canvas.height - ballRadius) {\r\n    if (x > paddleX && x < paddleX + paddleWidth) {\r\n      dy = -dy;\r\n    } else {\r\n      lives--;\r\n      if (lives === 0) {\r\n        lives = 0;\r\n        // alert(\"GAME OVER\");\r\n        // document.location.reload();\r\n        modal(false);\r\n      } else {\r\n        x = canvas.width / 2;\r\n        y = canvas.height - 30;\r\n        dx = 2;\r\n        dy = -2;\r\n        paddleX = (canvas.width - paddleWidth) / 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (rightPressed && paddleX < canvas.width - paddleWidth) {\r\n    paddleX += 7;\r\n  } else if (leftPressed && paddleX > 0) {\r\n    paddleX -= 7;\r\n  }\r\n\r\n  x += dx;\r\n  y += dy;\r\n  updatePose().then((pose) => {\r\n    if (pose.keypoints[0].score > 0.6)\r\n      paddleX =\r\n        (pose.keypoints[0].position.x / video.width) * canvas.width * 1.1;\r\n  });\r\n  id = requestAnimationFrame(draw);\r\n}\r\n","import { load, Pose } from \"@tensorflow-models/posenet\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"@tensorflow/tfjs-backend-webgl\";\r\nimport { backgroundAudio, draw, drawInit, init, pause } from \"../Game/Game\";\r\nimport { Button, Modal } from \"antd\";\r\ninterface Props {\r\n  setPaused: (arg: boolean) => void;\r\n}\r\nlet pose: Pose | undefined = undefined;\r\nexport let updatePose: () => Promise<Pose>;\r\nexport const Posenet = ({ setPaused }: Props) => {\r\n  const [isSucceedModalVisible, setIsSucceedModalVisible] = useState(false);\r\n  const [isFailModalVisible, setFailModalVisible] = useState(false);\r\n  const show = (succeed: boolean) => {\r\n    if (succeed) {\r\n      setIsSucceedModalVisible(true);\r\n      return;\r\n    } else {\r\n      setFailModalVisible(true);\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    init(show);\r\n    pause();\r\n    setPaused(true);\r\n    setIsSucceedModalVisible(false);\r\n    setFailModalVisible(false);\r\n  };\r\n  useEffect(() => {\r\n\r\n    // The width and height of the captured photo. We will set the\r\n    // width to the value defined here, but the height will be\r\n    // calculated based on the aspect ratio of the input stream.\r\n\r\n    // |streaming| indicates whether or not we're currently streaming\r\n    // video from the camera. Obviously, we start at false.\r\n\r\n    let streaming = false;\r\n\r\n    // The various HTML elements we need to configure or control. These\r\n    // will be set by the startup() function.\r\n\r\n    async function startup_posenet() {\r\n      console.log(\"start\");\r\n      let net = await load();\r\n\r\n      let video = document.getElementById(\"video\") as HTMLVideoElement;\r\n      video.setAttribute(\"playsinline\", \"true\");\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: { facingMode: \"user\" }, audio: false })\r\n        .then(function (stream) {\r\n          video.srcObject = stream;\r\n          video.play();\r\n        })\r\n        .catch(function (err) {\r\n          console.log(\"An error occurred: \" + err);\r\n          alert(\"not supported\");\r\n        });\r\n\r\n      video.addEventListener(\r\n        \"canplay\",\r\n        function (ev) {\r\n          if (!streaming) {\r\n            console.log(\"canplay\");\r\n            streaming = true;\r\n            updatePose = async () => {\r\n              pose = await net.estimateSinglePose(video, {\r\n                flipHorizontal: true,\r\n              });\r\n              console.log(pose);\r\n              return pose;\r\n            };\r\n            init(show);\r\n            drawInit();\r\n            // console.log('start draw!');\r\n            // requestAnimationFrame(draw);\r\n          }\r\n        },\r\n        false\r\n      );\r\n    }\r\n    window.addEventListener(\"load\", startup_posenet, false);\r\n  }, []);\r\n\r\n  const [paused, setpaused] = useState(true);\r\n\r\n  return (\r\n    <div className=\"main-screen\">\r\n      <div className=\"left\"></div>\r\n      <div className=\"header\">\r\n        <img src={process.env.PUBLIC_URL + '/Assets/title.png'} width=\"430px\" height=\"auto\" alt=\"PoseNet 打砖块\" />\r\n      </div>\r\n      <canvas id=\"myCanvas\" width=\"480\" height=\"320\"></canvas>\r\n      <div className=\"controls\">\r\n        <div className=\"camera\">\r\n          <video id=\"video\" width=\"240\" style={{ transform: \"scaleX(-1)\" }}>\r\n            视频流不可用。\r\n          </video>\r\n        </div>\r\n        <div className=\"control-buttons\">\r\n          <Button\r\n            onClick={() => {\r\n              if (!paused) {\r\n                pause();\r\n              } else {\r\n                if (backgroundAudio) {\r\n                  console.log(backgroundAudio)\r\n                  backgroundAudio.autoplay = true;\r\n                  backgroundAudio.play();\r\n                }\r\n                requestAnimationFrame(draw);\r\n              }\r\n              setpaused(!paused);\r\n            }}\r\n          >\r\n            {paused ? `开始` : `暂停`}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"right\"></div>\r\n      <Modal\r\n        className=\"succeed\"\r\n        visible={isSucceedModalVisible}\r\n        onCancel={() => {\r\n          setIsSucceedModalVisible(false);\r\n        }}\r\n        onOk={handleOk}\r\n        footer={<Button onClick={handleOk}>OK</Button>}\r\n      >\r\n        获胜\r\n      </Modal>\r\n      <Modal\r\n        className=\"failed\"\r\n        visible={isFailModalVisible}\r\n        onCancel={() => {\r\n          setFailModalVisible(false);\r\n        }}\r\n        onOk={handleOk}\r\n        footer={<Button onClick={handleOk}>OK</Button>}\r\n      >\r\n        失败\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"./App.css\";\r\nimport { Posenet } from \"./Posenet\";\r\nimport \"antd/dist/antd.css\";\r\nfunction App() {\r\n  const [paused, setpaused] = useState(true);\r\n  return (\r\n    <div className=\"App\">\r\n      <Posenet setPaused={setpaused}></Posenet>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}